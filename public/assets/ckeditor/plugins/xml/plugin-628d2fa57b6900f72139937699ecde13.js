/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
!function(){CKEDITOR.plugins.add("xml",{}),CKEDITOR.xml=function(e){var l=null;if("object"==typeof e)l=e;else{var t=(e||"").replace(/&nbsp;/g,"Â ");if(window.DOMParser)l=(new DOMParser).parseFromString(t,"text/xml");else if(window.ActiveXObject){try{l=new ActiveXObject("MSXML2.DOMDocument")}catch(n){try{l=new ActiveXObject("Microsoft.XmlDom")}catch(n){}}l&&(l.async=!1,l.resolveExternals=!1,l.validateOnParse=!1,l.loadXML(t))}}this.baseXml=l},CKEDITOR.xml.prototype={selectSingleNode:function(e,l){var t=this.baseXml;if(l||(l=t)){if(CKEDITOR.env.ie||l.selectSingleNode)return l.selectSingleNode(e);if(t.evaluate){var n=t.evaluate(e,l,null,9,null);return n&&n.singleNodeValue||null}}return null},selectNodes:function(e,l){var t=this.baseXml,n=[];if(l||(l=t)){if(CKEDITOR.env.ie||l.selectNodes)return l.selectNodes(e);if(t.evaluate){var i=t.evaluate(e,l,null,5,null);if(i)for(var r;r=i.iterateNext();)n.push(r)}}return n},getInnerXml:function(e,l){var t=this.selectSingleNode(e,l),n=[];if(t)for(t=t.firstChild;t;)t.xml?n.push(t.xml):window.XMLSerializer&&n.push((new XMLSerializer).serializeToString(t)),t=t.nextSibling;return n.length?n.join(""):null}}}();